<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DAC Control</title>
</head>
<body>
    <h1>DAC Control Interface</h1>

    <!-- Generate forms/links based on found DACs -->
    {% for dac_address in found_dac_addresses %}
    <!-- Form to set voltage for Channel 1 -->
        <form action="/set_voltage1/{{ dac_address }}" method="post">
            <label for="voltage1_{{ dac_address }}">Enter voltage for Channel 1 (0-100%):</label>
            <input type="number" id="voltage1_{{ dac_address }}" name="voltage1" min="0" max="100" step="any">
            <button type="submit">Set Voltage for Channel 1 on DAC {{ dac_address }}</button>
        </form>

        <!-- Form to set voltage for Channel 2 -->
        <form action="/set_voltage2/{{ dac_address }}" method="post">
            <label for="voltage2_{{ dac_address }}">Enter voltage for Channel 2 (0-100%):</label>
            <input type="number" id="voltage2_{{ dac_address }}" name="voltage2" min="0" max="100" step="any">
            <button type="submit">Set Voltage for Channel 2 on DAC {{ dac_address }}</button>
        </form>

        <!-- Links to open/close channels -->
        <a href="/open1/{{ dac_address }}">Open Channel 1 on DAC {{ dac_address }}</a>
        <a href="/close1/{{ dac_address }}">Close Channel 1 on DAC {{ dac_address }}</a>
        <a href="/open2/{{ dac_address }}">Open Channel 2 on DAC {{ dac_address }}</a>
        <a href="/close2/{{ dac_address }}">Close Channel 2 on DAC {{ dac_address }}</a>
    {% endfor %}
</body>
</html>
