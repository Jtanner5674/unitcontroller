<!DOCTYPE html>
<html>
<head>
    <title>DAC Control</title>
    <script>
        function updateSliderValue(channel) {
            const slider = document.getElementById(`voltage${channel}`);
            const textInput = document.getElementById(`voltage${channel}_text`);
            slider.value = textInput.value;
        }

        function updateTextInput(channel) {
            const slider = document.getElementById(`voltage${channel}`);
            const textInput = document.getElementById(`voltage${channel}_text`);
            textInput.value = slider.value;
        }
    </script>
</head>
<body>
    <h1>Testing DAC Control Interface</h1>
    
    <form action="/set_voltage1" method="post">
        <label for="voltage1">Valve 1:</label>
        <input type="range" id="voltage1" name="voltage1" min="0" max="100" step="1" value="0" oninput="updateTextInput(1)"><br><br>
        <input type="number" id="voltage1_text" name="voltage1_text" min="0" max="100" step="1" value="0" onchange="updateSliderValue(1)">
        <input type="submit" value="Set Channel 1">
    </form>

    <a href="/closed1"><button>Close</button></a>
    <a href="/open1"><button>Open</button></a>
    
    <h1></h1>
    
    <form action="/set_voltage2" method="post">
        <label for="voltage2">Valve 2:</label>
        <input type="range" id="voltage2" name="voltage2" min="0" max="100" step="1" value="0" oninput="updateTextInput(2)"><br><br>
        <input type="number" id="voltage2_text" name="voltage2_text" min="0" max="100" step="1" value="0" onchange="updateSliderValue(2)">
        <input type="submit" value="Set Channel 2">
    </form>

    <a href="/closed2"><button>Close</button></a>
    <a href="/open2"><button>Open</button></a>
</body>
</html>
